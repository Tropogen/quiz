{"remainingRequest":"/Users/kariazinsviatoslav/quiz/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kariazinsviatoslav/quiz/src/components/QuestionBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kariazinsviatoslav/quiz/src/components/QuestionBox.vue","mtime":1572428996721},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCcKCmV4cG9ydCBkZWZhdWx0ewogIHByb3BzOiB7CiAgICBjdXJyZW50UXVlc3Rpb246IE9iamVjdCwKICAgIG5leHQ6IEZ1bmN0aW9uLAogICAgaW5jcmVtZW50OiBGdW5jdGlvbiwKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCl7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEluZGV4OiBudWxsLAogICAgICBjb3JyZWN0SW5kZXg6IG51bGwsCiAgICAgIHNodWZmbGVkQW5zd2VyczogW10sCiAgICAgIGFuc3dlcmVkOiBmYWxzZSwKICAgIH0KICB9LAogIC8vIGNvbXB1dGVkOiB7CiAgLy8gICBhbnN3ZXJzKCl7CiAgLy8gICAgIGxldCBhbnN3ZXJzID0gWy4uLnRoaXMuY3VycmVudFF1ZXN0aW9uLmluY29ycmVjdF9hbnN3ZXJzXQogIC8vICAgICBhbnN3ZXJzLnB1c2godGhpcy5jdXJyZW50UXVlc3Rpb24uY29ycmVjdF9hbnN3ZXIpCiAgLy8gICAgIHJldHVybiBhbnN3ZXJzCiAgLy8gICB9CiAgLy8gfSwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8KICB3YXRjaDogewogICAgY3VycmVudFF1ZXN0aW9uOnsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyKCl7CiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gbnVsbAogICAgICAgIHRoaXMuYW5zd2VyZWQgPSBmYWxzZQogICAgICAgIHRoaXMuc2h1ZmZsZUFuc3dlcnMoKQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOnsKICBzZWxlY3RBbnN3ZXIoaW5kZXgpewogICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXgKICB9LAogIHN1Ym1pdEFuc3dlcigpIHsKICAgIGxldCBpc0NvcnJlY3QgPSBmYWxzZQoKICAgIGlmKHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gdGhpcy5jb3JyZWN0SW5kZXgpewogICAgICAgIGlzQ29ycmVjdCA9IHRydWUKICAgIH0KICAgIHRoaXMuYW5zd2VyZWQgPSB0cnVlCiAgICB0aGlzLmluY3JlbWVudChpc0NvcnJlY3QpCiAgfSwKICBzaHVmZmxlQW5zd2VycygpewogICAgbGV0IGFuc3dlcnMgPSBbLi4udGhpcy5jdXJyZW50UXVlc3Rpb24uaW5jb3JyZWN0X2Fuc3dlcnMsIHRoaXMuY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RfYW5zd2VyXQogICAgLy8g0LzQvtC20L3QviDQv9C+INC40LTQtdC1INC+0LHQvtC50YLQuNGB0YwgbG9kYXNoLnNodWZmbGUg0LLQvNC10YHRgtC+IF8gCiAgICB0aGlzLnNodWZmbGVkQW5zd2VycyA9IF8uc2h1ZmZsZShhbnN3ZXJzKQogICAgdGhpcy5jb3JyZWN0SW5kZXggPSB0aGlzLnNodWZmbGVkQW5zd2Vycy5pbmRleE9mKHRoaXMuY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RfYW5zd2VyKQogIH0sCiAgYW5zd2VyQ2xhc3MoaW5kZXgpewogICAgbGV0IGFuc3dlckNsYXNzID0gJycKCiAgICBpZiAoIXRoaXMuYW5zd2VyZWQgJiYgdGhpcy5zZWxlY3RlZEluZGV4ID09PSBpbmRleCkgewogICAgICBhbnN3ZXJDbGFzcyA9ICdzZWxlY3RlZCcKICAgIH0gZWxzZSBpZiAodGhpcy5hbnN3ZXJlZCAmJiB0aGlzLmNvcnJlY3RJbmRleCA9PT0gaW5kZXgpIHsKICAgICAgYW5zd2VyQ2xhc3MgPSAnY29ycmVjdCcKICAgIH0gZWxzZSBpZiAodGhpcy5hbnN3ZXJlZCAmJiB0aGlzLnNlbGVjdGVkSW5kZXggPT09IGluZGV4ICYmIAogICAgdGhpcy5jb3JyZWN0SW5kZXggIT09IGluZGV4KSB7CiAgICAgIGFuc3dlckNsYXNzID0gJ2luY29ycmVjdCcKICAgIH0KICAgIHJldHVybiBhbnN3ZXJDbGFzcwogIH0KICB9LAp9Cg=="},{"version":3,"sources":["QuestionBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QuestionBox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n      <b-jumbotron>\n    <template v-slot:lead>\n      {{currentQuestion.question}}\n    </template>\n\n    <hr class=\"my-4\">\n\n    <b-list-group>\n      <b-list-group-item\n      v-for=\"(answer, index) in shuffledAnswers\"\n      v-bind:key=\"index\"\n      @click=\"selectAnswer(index)\"\n      v-bind:class=\"answerClass(index)\"\n      \n      >\n        {{ answer }}\n      </b-list-group-item>\n    </b-list-group>\n   \n    <b-button \n      variant=\"primary\"\n      v-on:click=\"submitAnswer\" \n      v-bind:disabled=\"selectedIndex === null || answered\"   \n\n    >\n      Submit\n      </b-button>\n    <b-button  @click=\"next\"\n    variant=\"success\">Next\n    </b-button>\n      </b-jumbotron>\n    </div>\n</template>\n\n<script>\n  import _ from 'lodash'\n\n  export default{\n    props: {\n      currentQuestion: Object,\n      next: Function,\n      increment: Function,\n    },\n    data: function(){\n      return {\n        selectedIndex: null,\n        correctIndex: null,\n        shuffledAnswers: [],\n        answered: false,\n      }\n    },\n    // computed: {\n    //   answers(){\n    //     let answers = [...this.currentQuestion.incorrect_answers]\n    //     answers.push(this.currentQuestion.correct_answer)\n    //     return answers\n    //   }\n    // }, не используется\n    watch: {\n      currentQuestion:{\n        immediate: true,\n        handler(){\n          this.selectedIndex = null\n          this.answered = false\n          this.shuffleAnswers()\n        }\n      }\n    },\n    methods:{\n    selectAnswer(index){\n      this.selectedIndex = index\n    },\n    submitAnswer() {\n      let isCorrect = false\n\n      if(this.selectedIndex === this.correctIndex){\n          isCorrect = true\n      }\n      this.answered = true\n      this.increment(isCorrect)\n    },\n    shuffleAnswers(){\n      let answers = [...this.currentQuestion.incorrect_answers, this.currentQuestion.correct_answer]\n      // можно по идее обойтись lodash.shuffle вместо _ \n      this.shuffledAnswers = _.shuffle(answers)\n      this.correctIndex = this.shuffledAnswers.indexOf(this.currentQuestion.correct_answer)\n    },\n    answerClass(index){\n      let answerClass = ''\n\n      if (!this.answered && this.selectedIndex === index) {\n        answerClass = 'selected'\n      } else if (this.answered && this.correctIndex === index) {\n        answerClass = 'correct'\n      } else if (this.answered && this.selectedIndex === index && \n      this.correctIndex !== index) {\n        answerClass = 'incorrect'\n      }\n      return answerClass\n    }\n    },\n  }\n</script>\n<style scoped>\n.list-group {\n  margin-bottom: 15px;\n}\n.list-group-item:hover {\n  background: #EEE;\n  cursor: pointer;\n}\n.btn{\n  margin: 0 50px;\n}\n.selected {\n  background-color: lightblue;\n}\n.correct {\n  background-color: lightgreen;\n}\n.incorrect {\n  background-color: red;\n}\n</style>"]}]}