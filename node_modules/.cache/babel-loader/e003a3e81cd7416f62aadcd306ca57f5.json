{"remainingRequest":"/Users/kariazinsviatoslav/quiz/node_modules/babel-loader/lib/index.js!/Users/kariazinsviatoslav/quiz/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kariazinsviatoslav/quiz/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kariazinsviatoslav/quiz/src/components/QuestionBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kariazinsviatoslav/quiz/src/components/QuestionBox.vue","mtime":1572428996721},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kariazinsviatoslav/quiz/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9rYXJpYXppbnN2aWF0b3NsYXYvcXVpei9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY3VycmVudFF1ZXN0aW9uOiBPYmplY3QsCiAgICBuZXh0OiBGdW5jdGlvbiwKICAgIGluY3JlbWVudDogRnVuY3Rpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEluZGV4OiBudWxsLAogICAgICBjb3JyZWN0SW5kZXg6IG51bGwsCiAgICAgIHNodWZmbGVkQW5zd2VyczogW10sCiAgICAgIGFuc3dlcmVkOiBmYWxzZQogICAgfTsKICB9LAogIC8vIGNvbXB1dGVkOiB7CiAgLy8gICBhbnN3ZXJzKCl7CiAgLy8gICAgIGxldCBhbnN3ZXJzID0gWy4uLnRoaXMuY3VycmVudFF1ZXN0aW9uLmluY29ycmVjdF9hbnN3ZXJzXQogIC8vICAgICBhbnN3ZXJzLnB1c2godGhpcy5jdXJyZW50UXVlc3Rpb24uY29ycmVjdF9hbnN3ZXIpCiAgLy8gICAgIHJldHVybiBhbnN3ZXJzCiAgLy8gICB9CiAgLy8gfSwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8KICB3YXRjaDogewogICAgY3VycmVudFF1ZXN0aW9uOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBudWxsOwogICAgICAgIHRoaXMuYW5zd2VyZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLnNodWZmbGVBbnN3ZXJzKCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEFuc3dlcjogZnVuY3Rpb24gc2VsZWN0QW5zd2VyKGluZGV4KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4OwogICAgfSwKICAgIHN1Ym1pdEFuc3dlcjogZnVuY3Rpb24gc3VibWl0QW5zd2VyKCkgewogICAgICB2YXIgaXNDb3JyZWN0ID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSB0aGlzLmNvcnJlY3RJbmRleCkgewogICAgICAgIGlzQ29ycmVjdCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHRoaXMuYW5zd2VyZWQgPSB0cnVlOwogICAgICB0aGlzLmluY3JlbWVudChpc0NvcnJlY3QpOwogICAgfSwKICAgIHNodWZmbGVBbnN3ZXJzOiBmdW5jdGlvbiBzaHVmZmxlQW5zd2VycygpIHsKICAgICAgdmFyIGFuc3dlcnMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY3VycmVudFF1ZXN0aW9uLmluY29ycmVjdF9hbnN3ZXJzKSwgW3RoaXMuY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RfYW5zd2VyXSk7IC8vINC80L7QttC90L4g0L/QviDQuNC00LXQtSDQvtCx0L7QudGC0LjRgdGMIGxvZGFzaC5zaHVmZmxlINCy0LzQtdGB0YLQviBfIAoKICAgICAgdGhpcy5zaHVmZmxlZEFuc3dlcnMgPSBfLnNodWZmbGUoYW5zd2Vycyk7CiAgICAgIHRoaXMuY29ycmVjdEluZGV4ID0gdGhpcy5zaHVmZmxlZEFuc3dlcnMuaW5kZXhPZih0aGlzLmN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0X2Fuc3dlcik7CiAgICB9LAogICAgYW5zd2VyQ2xhc3M6IGZ1bmN0aW9uIGFuc3dlckNsYXNzKGluZGV4KSB7CiAgICAgIHZhciBhbnN3ZXJDbGFzcyA9ICcnOwoKICAgICAgaWYgKCF0aGlzLmFuc3dlcmVkICYmIHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXgpIHsKICAgICAgICBhbnN3ZXJDbGFzcyA9ICdzZWxlY3RlZCc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5hbnN3ZXJlZCAmJiB0aGlzLmNvcnJlY3RJbmRleCA9PT0gaW5kZXgpIHsKICAgICAgICBhbnN3ZXJDbGFzcyA9ICdjb3JyZWN0JzsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFuc3dlcmVkICYmIHRoaXMuc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXggJiYgdGhpcy5jb3JyZWN0SW5kZXggIT09IGluZGV4KSB7CiAgICAgICAgYW5zd2VyQ2xhc3MgPSAnaW5jb3JyZWN0JzsKICAgICAgfQoKICAgICAgcmV0dXJuIGFuc3dlckNsYXNzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["QuestionBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,eAAA,EAAA,MADA;AAEA,IAAA,IAAA,EAAA,QAFA;AAGA,IAAA,SAAA,EAAA;AAHA,GADA;AAMA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,eAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,qBAEA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,aAAA,QAAA,GAAA,KAAA;AACA,aAAA,cAAA;AACA;AANA;AADA,GArBA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,UAAA,SAAA,GAAA,KAAA;;AAEA,UAAA,KAAA,aAAA,KAAA,KAAA,YAAA,EAAA;AACA,QAAA,SAAA,GAAA,IAAA;AACA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,SAAA;AACA,KAZA;AAaA,IAAA,cAbA,4BAaA;AACA,UAAA,OAAA,gCAAA,KAAA,eAAA,CAAA,iBAAA,IAAA,KAAA,eAAA,CAAA,cAAA,EAAA,CADA,CAEA;;AACA,WAAA,eAAA,GAAA,CAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,WAAA,YAAA,GAAA,KAAA,eAAA,CAAA,OAAA,CAAA,KAAA,eAAA,CAAA,cAAA,CAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,uBAmBA,KAnBA,EAmBA;AACA,UAAA,WAAA,GAAA,EAAA;;AAEA,UAAA,CAAA,KAAA,QAAA,IAAA,KAAA,aAAA,KAAA,KAAA,EAAA;AACA,QAAA,WAAA,GAAA,UAAA;AACA,OAFA,MAEA,IAAA,KAAA,QAAA,IAAA,KAAA,YAAA,KAAA,KAAA,EAAA;AACA,QAAA,WAAA,GAAA,SAAA;AACA,OAFA,MAEA,IAAA,KAAA,QAAA,IAAA,KAAA,aAAA,KAAA,KAAA,IACA,KAAA,YAAA,KAAA,KADA,EACA;AACA,QAAA,WAAA,GAAA,WAAA;AACA;;AACA,aAAA,WAAA;AACA;AA/BA;AA/BA,CAAA","sourcesContent":["<template>\n    <div>\n      <b-jumbotron>\n    <template v-slot:lead>\n      {{currentQuestion.question}}\n    </template>\n\n    <hr class=\"my-4\">\n\n    <b-list-group>\n      <b-list-group-item\n      v-for=\"(answer, index) in shuffledAnswers\"\n      v-bind:key=\"index\"\n      @click=\"selectAnswer(index)\"\n      v-bind:class=\"answerClass(index)\"\n      \n      >\n        {{ answer }}\n      </b-list-group-item>\n    </b-list-group>\n   \n    <b-button \n      variant=\"primary\"\n      v-on:click=\"submitAnswer\" \n      v-bind:disabled=\"selectedIndex === null || answered\"   \n\n    >\n      Submit\n      </b-button>\n    <b-button  @click=\"next\"\n    variant=\"success\">Next\n    </b-button>\n      </b-jumbotron>\n    </div>\n</template>\n\n<script>\n  import _ from 'lodash'\n\n  export default{\n    props: {\n      currentQuestion: Object,\n      next: Function,\n      increment: Function,\n    },\n    data: function(){\n      return {\n        selectedIndex: null,\n        correctIndex: null,\n        shuffledAnswers: [],\n        answered: false,\n      }\n    },\n    // computed: {\n    //   answers(){\n    //     let answers = [...this.currentQuestion.incorrect_answers]\n    //     answers.push(this.currentQuestion.correct_answer)\n    //     return answers\n    //   }\n    // }, не используется\n    watch: {\n      currentQuestion:{\n        immediate: true,\n        handler(){\n          this.selectedIndex = null\n          this.answered = false\n          this.shuffleAnswers()\n        }\n      }\n    },\n    methods:{\n    selectAnswer(index){\n      this.selectedIndex = index\n    },\n    submitAnswer() {\n      let isCorrect = false\n\n      if(this.selectedIndex === this.correctIndex){\n          isCorrect = true\n      }\n      this.answered = true\n      this.increment(isCorrect)\n    },\n    shuffleAnswers(){\n      let answers = [...this.currentQuestion.incorrect_answers, this.currentQuestion.correct_answer]\n      // можно по идее обойтись lodash.shuffle вместо _ \n      this.shuffledAnswers = _.shuffle(answers)\n      this.correctIndex = this.shuffledAnswers.indexOf(this.currentQuestion.correct_answer)\n    },\n    answerClass(index){\n      let answerClass = ''\n\n      if (!this.answered && this.selectedIndex === index) {\n        answerClass = 'selected'\n      } else if (this.answered && this.correctIndex === index) {\n        answerClass = 'correct'\n      } else if (this.answered && this.selectedIndex === index && \n      this.correctIndex !== index) {\n        answerClass = 'incorrect'\n      }\n      return answerClass\n    }\n    },\n  }\n</script>\n<style scoped>\n.list-group {\n  margin-bottom: 15px;\n}\n.list-group-item:hover {\n  background: #EEE;\n  cursor: pointer;\n}\n.btn{\n  margin: 0 50px;\n}\n.selected {\n  background-color: lightblue;\n}\n.correct {\n  background-color: lightgreen;\n}\n.incorrect {\n  background-color: red;\n}\n</style>"],"sourceRoot":"src/components"}]}